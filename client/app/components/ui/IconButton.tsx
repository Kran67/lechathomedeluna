'use client'

import { useRouter } from "next/navigation";
import { IconButtonImages } from "@/app/enums/enums";
import { AppRouterInstance } from "next/dist/shared/lib/app-router-context.shared-runtime";

/**
 * Interface pour les propriétés d'initialisation du IconButton
 * 
 * @interface IconButtonProps
 */
export interface IconButtonProps {
    icon?: IconButtonImages;
    className?: string;
    url?: string;
    onClick?: () => void;
    imgWidth?: number;
    imgHeight?: number;
    text?: string;
    svgFill?: string;
    svgBgFill?: string;
    svgStroke?: string;
    title?: string;
    disabled?: boolean;
}

/**
 * Affiche d'un bouton avec une icône
 * 
 * @function IconButton
 * @param { icon, className, onClick, url, imgWidth, imgHeight, text, svgFill, svgBgFill, svgStroke, title, disabled } IconButtonProps - Les proriétés du IconButton
 * @param {IconButtonImages?} IconButtonProps.icon - Type d'icône à afficher
 * @param {string?} IconButtonProps.className - Classes css du bouton
 * @param {function?} IconButtonProps.onClick - Function à executer sur le clique du bouton avant redirection si elle est passée
 * @param {string?} IconButtonProps.url - Url de redirection lors du clique sur le bouton
 * @param {number?} IconButtonProps.imgWidth - Largeur de l'icône
 * @param {number?} IconButtonProps.imgHeight - Hauteur de l'icône
 * @param {string?} IconButtonProps.text - Texte à afficher
 * @param {string?} IconButtonProps.svgFill - Couleur à appliquer comme fond de l'icône
 * @param {string?} IconButtonProps.svgBgFill - Couleur à appliquer comme fond de l'icône
 * @param {string?} IconButtonProps.svgStroke - Couleur à appliquer comme trait de l'icône
 * @param {string?} IconButtonProps.title - Texte à afficher comme bulle d'information
 * @param {boolean?} IconButtonProps.disabled - Statut du bouton actif ou non actif
 */
export default function IconButton({ icon, className, onClick, url, imgWidth, imgHeight, text, svgFill, svgBgFill, svgStroke, title, disabled = false }: IconButtonProps) {
    const router: AppRouterInstance = useRouter();

    const handleClick: () => void = () => {
        onClick?.();
        if (url) router.push(url);
    };

    // Retourne une image svg en focntion du type d'icône choisit
    const renderSwitch = () => {
        switch (icon) {
            case IconButtonImages.Heart:
                return <svg width={imgWidth ?? "11"} height={imgHeight ?? "10"} viewBox="0 0 11 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0.5 3.24396C0.5 6.93596 5.3 9.41596 5.3 9.41596C5.3 9.41596 10.1 6.93796 10.1 3.24396C10.1 1.72996 8.872 0.501956 7.358 0.501956C6.534 0.501956 5.804 0.871955 5.3 1.44796C4.798 0.871955 4.066 0.501956 3.242 0.501956C1.728 0.499956 0.5 1.72796 0.5 3.24396Z" fill={svgBgFill ?? "white"} />
                    <path d="M7.35742 0.149658C9.0624 0.149658 10.4502 1.53968 10.4502 3.24438C10.4501 5.19368 9.23491 6.79293 8.02246 7.90552C6.80667 9.02115 5.56625 9.67204 5.46094 9.72681L5.45508 9.72974C5.40968 9.75092 5.35814 9.76587 5.2998 9.76587C5.24147 9.76587 5.18993 9.75092 5.14453 9.72974L5.13867 9.72681C5.03331 9.67201 3.79295 9.02046 2.57715 7.90454C1.36473 6.79173 0.149554 5.19269 0.149414 3.24438C0.149414 1.53967 1.53721 0.149658 3.24219 0.149658C4.00333 0.149755 4.73317 0.440216 5.2998 0.952393C5.86644 0.440217 6.59628 0.149755 7.35742 0.149658ZM3.24219 0.849854C1.92318 0.849854 0.849609 1.92507 0.849609 3.24438C0.849746 4.80816 1.80066 6.16563 2.8584 7.1897C3.84331 8.14323 4.90138 8.78525 5.2998 9.01294C5.69823 8.78525 6.7563 8.14323 7.74121 7.1897C8.79895 6.16563 9.74986 4.80816 9.75 3.24438C9.75 1.92523 8.67658 0.851807 7.35742 0.851807C6.76287 0.851905 6.18759 1.08264 5.74609 1.49243L5.56445 1.67896C5.44577 1.81326 5.2354 1.83036 5.09375 1.72974L5.03711 1.67896C4.57698 1.15094 3.92164 0.849966 3.24219 0.849854Z" fill={svgFill ?? "#0D0D0D"} stroke={svgStroke ?? "black"} strokeWidth="0.3" />
                </svg>;
            case IconButtonImages.Cross:
                return <svg width={imgWidth ?? "9"} height={imgHeight ?? "9"} viewBox="0 0 9 9" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0.179346 0.17837C0.417173 -0.0594566 0.802848 -0.0594566 1.04067 0.17837L4.50454 3.64224L7.96841 0.179346C8.20621 -0.0584548 8.5919 -0.0584042 8.82974 0.179346C9.06756 0.417173 9.06756 0.802848 8.82974 1.04067L5.36587 4.50357L8.82974 7.96743C9.06738 8.20527 9.0675 8.59099 8.82974 8.82876C8.71014 8.94826 8.55379 9.00747 8.39907 9.00747C8.24295 9.00747 8.088 8.94826 7.96841 8.82876L4.50454 5.36392L1.0397 8.82876C0.92158 8.94829 0.765118 9.00738 0.609034 9.00747C0.452983 9.00747 0.297938 8.94814 0.17837 8.82876C-0.0594566 8.59093 -0.0594566 8.20526 0.17837 7.96743L3.64321 4.50259L0.179346 1.03872C-0.0582214 0.800934 -0.0582461 0.416142 0.179346 0.17837Z" fill={svgFill ?? "#0D0D0D"} />
                </svg>;
            case IconButtonImages.LeftArrow:
                return <svg width={imgWidth ?? "8"} height={imgHeight ?? "6"} viewBox="0 0 8 6" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M7.63636 2.54995H1.24139L3.16613 0.625202C3.20087 0.591657 3.22857 0.551531 3.24763 0.507166C3.26669 0.4628 3.27672 0.415084 3.27714 0.3668C3.27756 0.318516 3.26835 0.270632 3.25007 0.225942C3.23179 0.181252 3.20479 0.140651 3.17064 0.106508C3.1365 0.0723645 3.0959 0.0453631 3.05121 0.0270789C3.00652 0.00879479 2.95863 -0.000405844 2.91035 1.373e-05C2.86207 0.000433304 2.81435 0.0104648 2.76998 0.0295228C2.72562 0.0485808 2.68549 0.0762837 2.65195 0.111015L0.106469 2.65649C0.0382969 2.72469 0 2.81716 0 2.91359C0 3.01001 0.0382969 3.10249 0.106469 3.17068L2.65195 5.71616C2.72053 5.7824 2.81239 5.81905 2.90773 5.81822C3.00308 5.8174 3.09428 5.77915 3.16171 5.71173C3.22913 5.64431 3.26737 5.5531 3.2682 5.45776C3.26903 5.36241 3.23237 5.27056 3.16613 5.20197L1.24139 3.27723H7.63636C7.7328 3.27723 7.8253 3.23892 7.89349 3.17072C7.96169 3.10252 8 3.01003 8 2.91359C8 2.81714 7.96169 2.72465 7.89349 2.65646C7.8253 2.58826 7.7328 2.54995 7.63636 2.54995Z" fill={svgFill ?? "#0D0D0D"} />
                </svg>;
            case IconButtonImages.Location:
                return <svg width={imgWidth ?? "10"} height={imgHeight ?? "13"} viewBox="0 0 10 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M5 0C7.75624 4.52341e-05 9.99986 2.24379 10 5C10 8.57123 5.40493 12.4585 5.20508 12.6279C5.14527 12.6749 5.07262 12.7012 5 12.7012C4.92737 12.7012 4.85474 12.6753 4.79492 12.624C4.59834 12.4616 0 8.56832 0 5C0.000145198 2.24376 2.24372 0 5 0ZM5 0.641602C2.59842 0.641602 0.64077 2.59418 0.640625 5C0.640625 7.86747 4.11113 11.1583 5 11.9531C5.88896 11.1539 9.3584 7.86314 9.3584 5C9.35825 2.59848 7.40582 0.641647 5 0.641602ZM5 2.79883C6.21363 2.79883 7.20113 3.78638 7.20117 5C7.20117 6.21365 6.21365 7.20117 5 7.20117C3.78636 7.20115 2.79883 6.21364 2.79883 5C2.79887 3.78639 3.78639 2.79885 5 2.79883ZM5 3.44043C4.14108 3.44045 3.44047 4.14108 3.44043 5C3.44043 5.85895 4.14106 6.55955 5 6.55957C5.85896 6.55957 6.55957 5.85896 6.55957 5C6.55953 4.14107 5.85894 3.44043 5 3.44043Z" fill={svgFill ?? "#0D0D0D"} />
                </svg>;
            case IconButtonImages.Menu:
                return <svg width={imgWidth ?? "10"} height={imgHeight ?? "7"} viewBox="0 0 10 7" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M2.5 0.5C2.5 0.223867 2.72387 0 3 0H9.5C9.77613 0 10 0.223867 10 0.5C10 0.776133 9.77613 1 9.5 1H3C2.72387 1 2.5 0.776113 2.5 0.5ZM9.5 3H0.5C0.223867 3 0 3.22389 0 3.5C0 3.77613 0.223867 4 0.5 4H9.5C9.77613 4 10 3.77613 10 3.5C10 3.22389 9.77613 3 9.5 3ZM9.5 6H5C4.72389 6 4.5 6.22387 4.5 6.5C4.5 6.77611 4.72389 7 5 7H9.5C9.77613 7 10 6.77611 10 6.5C10 6.22387 9.77613 6 9.5 6Z" fill={svgFill ?? "#0D0D0D"} />
                </svg>;
            case IconButtonImages.Plus:
                return <svg width={imgWidth ?? "11"} height={imgHeight ?? "11"} viewBox="0 0 11 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M5.5 0C5.77614 1.20706e-08 6 0.223858 6 0.5V5H10.5C10.7761 5 11 5.22386 11 5.5C11 5.77614 10.7761 6 10.5 6H6V10.5C6 10.7761 5.77614 11 5.5 11C5.22386 11 5 10.7761 5 10.5V6H0.5C0.223858 6 0 5.77614 0 5.5C0 5.22386 0.223858 5 0.5 5H5V0.5C5 0.223858 5.22386 -1.20706e-08 5.5 0Z" fill={svgFill ?? "#0D0D0D"} />
                </svg>;
            case IconButtonImages.TopArrow:
                return <svg width={imgWidth ?? "6"} height={imgHeight ?? "8"} viewBox="0 0 6 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3.26841 7.63636L3.26841 1.24139L5.19316 3.16613C5.2267 3.20087 5.26683 3.22857 5.31119 3.24763C5.35556 3.26669 5.40328 3.27672 5.45156 3.27714C5.49984 3.27756 5.54773 3.26835 5.59242 3.25007C5.63711 3.23179 5.67771 3.20479 5.71185 3.17064C5.74599 3.1365 5.773 3.0959 5.79128 3.05121C5.80956 3.00652 5.81877 2.95863 5.81835 2.91035C5.81793 2.86207 5.80789 2.81435 5.78884 2.76998C5.76978 2.72562 5.74208 2.68549 5.70734 2.65195L3.16187 0.106469C3.09367 0.0382969 3.0012 0 2.90477 0C2.80835 0 2.71587 0.0382969 2.64768 0.106469L0.102199 2.65195C0.0359588 2.72053 -0.000693798 2.81239 0.000134468 2.90773C0.000963211 3.00308 0.039207 3.09428 0.106629 3.16171C0.174051 3.22913 0.265256 3.26737 0.360601 3.2682C0.455946 3.26903 0.547803 3.23237 0.616386 3.16613L2.54113 1.24139L2.54113 7.63636C2.54113 7.7328 2.57944 7.8253 2.64764 7.89349C2.71584 7.96169 2.80833 8 2.90477 8C3.00122 8 3.09371 7.96169 3.1619 7.89349C3.2301 7.8253 3.26841 7.7328 3.26841 7.63636Z" fill={svgFill ?? "#0D0D0D"} />
                </svg>;
            case IconButtonImages.Trash:
                return <svg width={imgWidth ?? "10"} height={imgHeight ?? "11"} viewBox="0 0 10 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M7.95464 10.9092H2.04554C1.41918 10.9092 0.90918 10.3992 0.90918 9.7728V3.40916C0.90918 3.2837 1.011 3.18188 1.13645 3.18188C1.26191 3.18188 1.36373 3.2837 1.36373 3.40916V9.7728C1.36373 10.1487 1.66963 10.4546 2.04554 10.4546H7.95464C8.33055 10.4546 8.63646 10.1487 8.63646 9.7728V3.40916C8.63646 3.2837 8.73828 3.18188 8.86373 3.18188C8.98919 3.18188 9.091 3.2837 9.091 3.40916V9.7728C9.091 10.3992 8.581 10.9092 7.95464 10.9092Z" fill={svgFill ?? "#0D0D0D"} />
                    <path d="M9.77273 3.63638H0.227273C0.101818 3.63638 0 3.53456 0 3.4091V2.50001C0 1.87365 0.51 1.36365 1.13636 1.36365H8.86364C9.49001 1.36365 10 1.87365 10 2.50001V3.4091C10 3.53456 9.89819 3.63638 9.77273 3.63638ZM0.454546 3.18183H9.54546V2.50001C9.54546 2.1241 9.23955 1.81819 8.86364 1.81819H1.13636C0.760455 1.81819 0.454546 2.1241 0.454546 2.50001V3.18183Z" fill={svgFill ?? "#0D0D0D"} />
                    <path d="M7.04524 1.81818C6.91978 1.81818 6.81796 1.71636 6.81796 1.59091V0.681819C6.81796 0.556364 6.71614 0.454546 6.59069 0.454546H3.40887C3.28341 0.454546 3.1816 0.556364 3.1816 0.681819V1.59091C3.1816 1.71636 3.07978 1.81818 2.95432 1.81818C2.82887 1.81818 2.72705 1.71636 2.72705 1.59091V0.681819C2.72705 0.305909 3.03296 0 3.40887 0H6.59069C6.9666 0 7.27251 0.305909 7.27251 0.681819V1.59091C7.27251 1.71636 7.17069 1.81818 7.04524 1.81818Z" fill={svgFill ?? "#0D0D0D"} />
                    <path d="M5.00022 9.09091C4.87477 9.09091 4.77295 8.98909 4.77295 8.86364V5.22727C4.77295 5.10182 4.87477 5 5.00022 5C5.12568 5 5.22749 5.10182 5.22749 5.22727V8.86364C5.22749 8.98909 5.12568 9.09091 5.00022 9.09091Z" fill={svgFill ?? "#0D0D0D"} />
                    <path d="M2.95432 9.09091C2.82887 9.09091 2.72705 8.98909 2.72705 8.86364V5.22727C2.72705 5.10182 2.82887 5 2.95432 5C3.07978 5 3.1816 5.10182 3.1816 5.22727V8.86364C3.1816 8.98909 3.07978 9.09091 2.95432 9.09091Z" fill={svgFill ?? "#0D0D0D"} />
                    <path d="M7.04563 9.09091C6.92018 9.09091 6.81836 8.98909 6.81836 8.86364V5.22727C6.81836 5.10182 6.92018 5 7.04563 5C7.17109 5 7.27291 5.10182 7.27291 5.22727V8.86364C7.27291 8.98909 7.17109 9.09091 7.04563 9.09091Z" fill={svgFill ?? "#0D0D0D"} />
                </svg>;
            case IconButtonImages.Star:
                return <svg width={imgWidth ?? "15"} height={imgHeight ?? "17"} viewBox="0 0 15 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M6.41993 0.740832C6.68503 -0.246854 8.08645 -0.246854 8.35156 0.740831L9.3198 4.34812C9.43709 4.7851 9.83316 5.08888 10.2856 5.08888H13.7696C14.6917 5.08888 15.1224 6.23081 14.43 6.83978L11.3032 9.58975C11.0176 9.84097 10.8992 10.2325 10.9978 10.5999L12.1123 14.7517C12.3689 15.7077 11.2293 16.4156 10.486 15.7619L8.04616 13.616C7.66852 13.2839 7.10297 13.2839 6.72533 13.616L4.28546 15.7619C3.5422 16.4156 2.40263 15.7077 2.65923 14.7517L3.77364 10.5999C3.87225 10.2325 3.75388 9.84097 3.46824 9.58975L0.341498 6.83978C-0.350916 6.23081 0.0798023 5.08888 1.00191 5.08888H4.48588C4.93832 5.08888 5.3344 4.7851 5.45169 4.34812L6.41993 0.740832Z" fill={svgFill ?? "#99331A"} />
                </svg>;
            case IconButtonImages.Logout:
                return <svg width={imgWidth ?? "24"} height={imgHeight ?? "24"} viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2" fill={svgFill ?? "#99331A"} stroke={svgStroke ?? "#99331A"} />
                    <path d="M9 12h12l-3 -3" fill={svgFill ?? "#99331A"} stroke={svgStroke ?? "#99331A"} />
                    <path d="M18 15l3 -3" fill={svgFill ?? "#99331A"} stroke={svgStroke ?? "#99331A"} />
                </svg>;

            default:
                return <svg width={imgWidth ?? "11"} height={imgHeight ?? "9"} viewBox="0 0 11 9" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect fill={svgBgFill ?? "#FFF"} height="7" stroke="none" width="10" x="0" y="0" />
                    <rect fill={svgBgFill ?? "#FFF"} height="2" stroke="none" width="1.5" x="2" y="6" />
                    <path d="M9.5459 0.149658C10.0443 0.14982 10.45 0.55556 10.4502 1.05396V6.36157C10.4501 6.85999 10.0443 7.26571 9.5459 7.26587H4.1582L2.74707 8.54126C2.62725 8.64966 2.47567 8.70719 2.32031 8.70728C2.23169 8.70728 2.14252 8.68881 2.05859 8.65161C1.82525 8.54763 1.67856 8.32254 1.67871 8.06665V7.26587H1.05469C0.555979 7.26587 0.149556 6.86011 0.149414 6.36157V1.05396C0.149577 0.555434 0.555991 0.149658 1.05469 0.149658H9.5459ZM1.05469 0.834229C0.933629 0.834229 0.834147 0.933222 0.833984 1.05396V6.36157C0.834127 6.48246 0.933566 6.5813 1.05469 6.5813H2.02051C2.11135 6.5813 2.19858 6.61691 2.2627 6.68091C2.3268 6.74501 2.36325 6.83219 2.36328 6.9231V7.96411L3.79688 6.66919L3.84766 6.6311C3.901 6.59854 3.96284 6.5813 4.02637 6.5813H9.5459C9.66678 6.58114 9.76548 6.48246 9.76562 6.36157V1.05396C9.76546 0.93322 9.66672 0.834391 9.5459 0.834229H1.05469Z" fill={svgFill ?? "#0D0D0D"} stroke={svgStroke ?? "#0D0D0D"} strokeWidth="0.3" />
                </svg>;
        }
    }

    return (
        <button
            className={"flex items-center cursor-pointer whitespace-nowrap gap-5 " + className}
            onClick={handleClick}
            role="button"
            title={title}>
            {renderSwitch()}{text}
        </button>
    );
}